<!DOCTYPE html>
<html dir="ltr" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
            name="keywords"
            content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 5 admin, bootstrap 5, css3 dashboard, bootstrap 5 dashboard, Matrix lite admin bootstrap 5 dashboard, frontend, responsive bootstrap 5 admin template, Matrix admin lite design, Matrix admin lite dashboard bootstrap 5 dashboard template"
    />
    <meta
            name="description"
            content="Matrix Admin Lite Free Version is powerful and clean admin dashboard template, inpired from Bootstrap Framework"
    />
    <meta name="robots" content="noindex,nofollow" />
    <title>Matrix Admin Lite Free Versions Template by WrapPixel</title>
    <!-- Favicon icon -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/admin_static/js/summernote-lite.js"></script>
    <script src="/admin_static/js/summernote-ko-KR.js"></script>
    <link rel="stylesheet" href="/admin_static/js/summernote-lite.css">
    <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="/admin_static/assets/images/favicon.png"
    />
    <!-- Custom CSS -->
    <link
            rel="stylesheet"
            type="text/css"
            href="/admin_static/assets/libs/select2/dist/css/select2.min.css"
    />
    <link
            rel="stylesheet"
            type="text/css"
            href="/admin_static/assets/libs/jquery-minicolors/jquery.minicolors.css"
    />
    <link
            rel="stylesheet"
            type="text/css"
            href="/admin_static/assets/libs/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css"
    />
    <link
            rel="stylesheet"
            type="text/css"
            href="/admin_static/assets/libs/quill/dist/quill.snow.css"
    />
    <link href="/admin_static/dist/css/style.min.css" rel="stylesheet" />
    <link href="/admin_static/dist/css/productStyle.css" rel="stylesheet" />
</head>

<body>
<div class="preloader">
    <div class="lds-ripple">
        <div class="lds-pos"></div>
        <div class="lds-pos"></div>
    </div>
</div>
<div
        id="main-wrapper"
        data-layout="vertical"
        data-navbarbg="skin5"
        data-sidebartype="full"
        data-sidebar-position="absolute"
        data-header-position="absolute"
        data-boxed-layout="full"
>
    <header class="topbar" data-navbarbg="skin5">
        <nav class="navbar top-navbar navbar-expand-md navbar-dark">
            <div class="navbar-header" data-logobg="skin5">
                <a class="navbar-brand" href="/admin_static/../../templates/admin/index.html">
                    <b class="logo-icon ps-2">
                        <img
                                src="/admin_static/assets/images/logo-icon.png"
                                alt="homepage"
                                class="light-logo"
                                width="25"
                        />
                    </b>
                    <span class="logo-text ms-2">
                <img
                        src="/admin_static/assets/images/logo-text.png"
                        alt="homepage"
                        class="light-logo"
                />
              </span>
                </a>
                <a
                        class="nav-toggler waves-effect waves-light d-block d-md-none"
                        href="javascript:void(0)"
                ><i class="ti-menu ti-close"></i
                ></a>
            </div>
            <div
                    class="navbar-collapse collapse"
                    id="navbarSupportedContent"
                    data-navbarbg="skin5"
            >
                <ul class="navbar-nav float-start me-auto">
                    <li class="nav-item d-none d-lg-block">
                        <a
                                class="nav-link sidebartoggler waves-effect waves-light"
                                href="javascript:void(0)"
                                data-sidebartype="mini-sidebar"
                        ><i class="mdi mdi-menu font-24"></i
                        ></a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <aside class="left-sidebar" data-sidebarbg="skin5" th:replace="admin/fragments/sidebar :: sidebar">

    </aside>
    <div class="page-wrapper">

        <div class="page-breadcrumb">
            <div class="row">
                <div class="col-12 d-flex no-block align-items-center">
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <h2 class="page_title">상품 등록</h2>
                            <form id="productForm" th:action="@{/admin/registProduct}" method="post" enctype="multipart/form-data">
                                <input type="hidden" id="attachOriginName" name="attach_origin_name">
                                <input type="hidden" id="attachName" name="attach_name">
                                <input type="hidden" name="info" id="info">
                                    <div class="flex_box">
                                    <div class="image-placeholder" id="imagePlaceholder">
                                        <div class="camera_box">
                                            <img th:src="@{/img/home/camera.png}" id="camera_img"/>
                                            <input type="file" id="productImage"  name="file" accept="image/*" style="display: none;">
                                        </div>
                                    </div>
                                    <div class="info_box">
                                        <label for="name" class="form-label">상품명</label>
                                        <input type="text" class="form-control" id="name" name="name" required>
                                        <label for="category" class="form-label">대분류</label>
                                        <select class="form-select" id="category" name="category_id" required>
                                            <option value="" disabled selected>선택</option>
                                            <option th:each="category : ${categories}"
                                                    th:value="${category.category_id}"
                                                    th:text="${category.name}"></option>
                                        </select>
                                        <label for="subCategory" class="form-label">중분류</label>
                                        <select class="form-select" id="subCategory" name="subcategory_id" required>
                                            <option value="" disabled selected></option>
                                        </select>
                                        <label for="nation" class="form-label">원산지</label>
                                        <input type="text" class="form-control short" id="nation" name="nation" required >
                                        <label for="weight" class="form-label">무게 <span class="small_text">(단위 : g)</span></label>
                                        <input type="number" class="form-control short" id="weight" name="weight" required>
                                        <label for="nation" class="form-label">재고</label>
                                        <input type="number" class="form-control short" id="stock" name="stock" required>
                                        <label class="form-label">카페인 유무 <span class="small_text">(미체크시 없음)</span></label>
                                        <div>
                                            <div class="form-check" >
                                                <input class="form-check-input" type="checkbox" name="is_caffeine" id="caffeineYes" value="true">
                                                <label class="form-check-label" for="caffeineYes">
                                                    있음
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    </div>
                                    <div class="container" id="summer_container">
                                        <textarea class="summernote" name="info"></textarea>
                                    </div>
                                    <div class="price_box">
                                        <label for="name" class="form-label">정상가</label>
                                        <div class="input_box">
                                            <input type="text" class="form-control" id="regularPrice" name="regular_price" required>
                                            <span>(단위 : 원)</span>
                                        </div>
                                            <label for="name" class="form-label">할인율</label>
                                        <div class="input_box">
                                            <input type="text" class="form-control" id="discountPercent" name="discount_percent" required>
                                            <span>(단위 : 원)</span>
                                        </div>
                                        <label for="name" class="form-label">판매가</label>
                                        <div class="input_box">
                                            <input type="text" class="form-control" id="salePrice" name="sale_price" required>
                                            <span>(단위 : 원)</span>
                                        </div>
                                    </div>
                                    <div class="button_box">
                                            <button type="submit" class="btn btn-primary">등록하기</button>
                                            <button class="btn btn-warning">목록으로</button>
                                    </div>
                            </form>
                    </div>

                </div>
            </div>
        </div>
        <footer class="footer text-center">
            All Rights Reserved by Matrix-admin. Designed and Developed by
            <a href="https://www.wrappixel.com">WrapPixel</a>.
        </footer>
    </div>
</div>


<script src="/admin_static/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="/admin_static/assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
<script src="/admin_static/assets/extra-libs/sparkline/sparkline.js"></script>
<script src="/admin_static/dist/js/waves.js"></script>
<script src="/admin_static/dist/js/sidebarmenu.js"></script>
<script src="/admin_static/dist/js/custom.min.js"></script>
<script src="/admin_static/assets/libs/inputmask/dist/min/jquery.inputmask.bundle.min.js"></script>
<script src="/admin_static/dist/js/pages/mask/mask.init.js"></script>
<script src="/admin_static/assets/libs/select2/dist/js/select2.full.min.js"></script>
<script src="/admin_static/assets/libs/select2/dist/js/select2.min.js"></script>
<script src="/admin_static/assets/libs/jquery-asColor/dist/jquery-asColor.min.js"></script>
<script src="/admin_static/assets/libs/jquery-asGradient/dist/jquery-asGradient.js"></script>
<script src="/admin_static/assets/libs/jquery-asColorPicker/dist/jquery-asColorPicker.min.js"></script>
<script src="/admin_static/assets/libs/jquery-minicolors/jquery.minicolors.min.js"></script>
<script src="/admin_static/assets/libs/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>

<script>
    $(".select2").select2();
    $(".demo").each(function () {
        $(this).minicolors({
            control: $(this).attr("data-control") || "hue",
            position: $(this).attr("data-position") || "bottom left",

            change: function (value, opacity) {
                if (!value) return;
                if (opacity) value += ", " + opacity;
                if (typeof console === "object") {
                    console.log(value);
                }
            },
            theme: "bootstrap",
        });
    });
    /*datwpicker*/
    jQuery(".mydatepicker").datepicker();
    jQuery("#datepicker-autoclose").datepicker({
        autoclose: true,
        todayHighlight: true,
    });


    // 박스클릭하면 이미지 노출시키는 트리거
    // 네모 박스를 클릭하면 파일 입력을 트리거
    document.getElementById('imagePlaceholder').addEventListener('click', function () {
        document.getElementById('productImage').click();
    });

    // 파일 입력이 변경되면 이미지 미리보기
    document.getElementById('productImage').addEventListener('change', function (event) {
        const file = event.target.files[0];
        const reader = new FileReader();
        reader.onload = function (e) {
            const img = document.createElement('img'); // 새로운 이미지 요소 생성
            img.src = e.target.result; // 파일의 데이터 URL 설정
            const placeholder = document.getElementById('imagePlaceholder');
            placeholder.append(img); // 이미지 추가
        }
        if (file) {
            console.log("파일이 있다.");
            document.getElementById('attachName').value = file.name;
            document.getElementById('attachOriginName').value = file.name;
            console.log(file);
            reader.readAsDataURL(file);

        }
    });

</script>
<script src="/admin_static/js/product.js"></script>
</body>
</html>
